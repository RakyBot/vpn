var pac_engine = (function module_fn(){var E={module_fn},g_pac_engine={},g_log=[],local_redir;var regex_url2host=/^(?:https?|wss?):\/\/([^\/]+)/;var regex_local_cmd_host=/^__hola__\.set\.(.*)\.local\.hola$/;var v3_rules;function reset(){local_redir={rules:{},counter:0}}function log(s){var text=(new Date).toISOString()+" "+s;if(typeof alert!="undefined")alert(text);g_log.push(text);if(g_log.length>256)g_log.splice(0,g_log.length/2)}function pac_dump(){var str="";str+="init_ts: "+g_pac_engine.init_ts+"\n";str+="g_pac_engine:\n";try{str+=JSON.stringify(g_pac_engine)}catch(e){str+=e}str+="\nlocal_redir:\n";str+="  counter: "+local_redir.counter+"\n";str+="  rules:\n";for(var host in local_redir.rules){var rule=local_redir.rules[host];var ttl=rule.deadline_ts-Date.now();if(ttl>0)str+="    "+host+": "+rule.proxy+" (ttl "+(ttl/1e3|0)+"s)\n"}return str}function hex_decode(h){var s="";for(var i=0;i<h.length;i+=2)s+=String.fromCharCode(parseInt(h.substr(i,2),16));return s}function add_local_rule(host,proxy,deadline_ts){var cur_ts=Date.now(),entry=local_redir.rules[host];if(!entry||entry.proxy!=proxy)entry=local_redir.rules[host]={proxy};entry.deadline_ts=deadline_ts||cur_ts+6e4;local_redir.counter++;if(local_redir.counter>1e3){for(var i in local_redir.rules){var local=local_redir.rules[i];if(local.deadline_ts<cur_ts)delete local_redir.rules[i]}local_redir.counter=0}}function url2host(url){var n=url.match(regex_url2host);return n?n[1]:url}function get_local_rule(url){var host=url2host(url),rule=local_redir.rules[host];if(!rule)return;if(rule.deadline_ts<Date.now())return void delete local_redir.rules[host];return rule.proxy}function init_hola_domains_re(){var domains="hola.org|holacdn.com|zspeed-cdn.com|"+"h-vpn.org|holavpn.com|holavpnworld.com|"+"holavpnextension.com|holavpninstaller.com|holabrowser.com|"+"holafreevpn.com|new-tab-page|hola-new-tab-page|"+"holavpnrussia.com|hola-vpn.com|holax.io|holavpn.net|"+"holavpnandroid.com|hola-diagnostics|hola-settings".replace(/\./g,"\\.");return new RegExp("^(.*\\.)?("+domains+")$")}var hola_domain_re=init_hola_domains_re();function is_ip(host){var m=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/.exec(host);if(!m)return false;for(var i=1;i<=4;i++){if(+m[i]>255)return false}return true}function convert_addr(ipchars){var bytes=ipchars.split(".");var result=(bytes[0]&255)<<24|(bytes[1]&255)<<16|(bytes[2]&255)<<8|bytes[3]&255;return result>>>0}function is_in_net(ipaddr,pattern,maskstr){var test=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/.exec(ipaddr);if(!test||test[1]>255||test[2]>255||test[3]>255||test[4]>255)return false;var host=convert_addr(ipaddr);var pat=convert_addr(pattern);var mask=convert_addr(maskstr);return(host&mask)==(pat&mask)}function is_private_network(hostname){if(!hostname.includes("."))return true;if(!is_ip(hostname))return false;return is_in_net(hostname,"10.0.0.0","255.0.0.0")||is_in_net(hostname,"172.16.0.0","255.240.0.0")||is_in_net(hostname,"192.168.0.0","255.255.0.0")||is_in_net(hostname,"127.0.0.0","255.0.0.0")}function get_global_rule(host){if(!v3_rules)return null;if(is_private_network(host)||host.match(hola_domain_re))return"DIRECT";return v3_rules.hosts_map[host]||v3_rules.hosts_map.default}function local_hola_handler(hex_payload){var msg;try{msg=JSON.parse(hex_decode(hex_payload))}catch(e){}if(!msg||msg.key!=g_pac_engine.key)return"DIRECT";if(msg.unset)delete local_redir.rules[msg.unset];else add_local_rule(msg.set,msg.proxy,msg.d_ts);if(msg.init_ts&&g_pac_engine.init_ts!=msg.init_ts)throw new Error("pac_auto_reload init_ts "+g_pac_engine.init_ts);return"PROXY 127.0.0.1:0"}E.init=function(options){options=options||{};g_pac_engine={init_ts:Date.now(),key:options.key};reset();if(options.set_ts&&options.set_ts+3e3<g_pac_engine.init_ts)throw new Error("pac_auto_reload init ts mismatch")};E.set_v3_rules=function(rules){v3_rules=rules};function handle_debug(host){switch(host){case"__hola__.pac_get_init_ts.local.hola":throw new Error("init_ts "+g_pac_engine.init_ts);case"__hola__.pac_dump.local.hola":throw new Error("pac_dump "+pac_dump());case"__hola__.pac_get_log.local.hola":g_log=[];throw new Error("pac_get_log ["+g_log.join("\n")+"]")}}E.FindProxyForURL=function(url,host){if(host[0]=="_"){var m=host.match(regex_local_cmd_host);if(m)return local_hola_handler(m[1]);handle_debug(host)}return get_local_rule(url)||get_global_rule(host)||"DIRECT"};E.t={local_redir:function(){return local_redir},reset};return E})();
pac_engine.init({"key":"39397d7faecad7286152c6fb54849282989add2443ffa1e2f6c1d9e2a1f5ce","set_ts":1668772153479});
function FindProxyForURL(url, host){
    return pac_engine.FindProxyForURL(url, host); }
